@using MvcBlog.Models
@model Article

@{
    ViewBag.Title = "ArticleInfo";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>ArticleInfo</h2>

<div class="container">
    <div class="row">
        <!-- Post Content Column -->
        <div class="col-lg-8">
            <!-- Title -->
            <h1 class="mt-4">@Model.Title </h1>
            <!-- Author -->
            <p class="lead">
                by
                <a href="#">@Model.User.UserName</a>
            </p>
            <hr>
            <!-- Date/Time -->
            <p>Posted on @Model.Date</p>
            <hr>
            <!-- Preview Image -->
            <img src="~/Content/images/blog/@Model.ImageUrl" class="img-fluid rounded" />

            <hr>
            <!-- Post Content -->
            <p class="lead">@Model.A_Content</p>

            <hr>
            <!-- Comments Form -->
            <h5 class="card-header">Comments</h5>
            @if (Session["userId"] != null)
            {
                <div class="card my-4">
                    <h5 class="card-header">Leave a Comment:</h5>

                    <div class="card-body">
                        <form method="post">
                            <div class="form-group">
                                <textarea class="form-control" rows="3" name="text"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Submit</button>
                        </form>

                    </div>
                </div>
            }

            @foreach (var item in Model.Comments)
            {
                <!-- Single Comment -->
                <div class="media mb-4">
                    <img src="~/Content/images/user/@item.User.PhotoUrl" class="d-flex mr-4 rounded-circle" style="width:50px;" />

                    <div class="media-body">
                        <b> <h5 class="mt-0">@item.User.UserName</h5></b>
                        <p>@item.C_Content</p>
                        <i> <p>Posted on @item.Date</p></i>
                    </div>
                </div>
            }

        </div>
    </div>
</div>